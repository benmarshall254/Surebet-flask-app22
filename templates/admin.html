// Clear admin session
        function clearAdminSession() {
            localStorage.removeItem('adminToken');
            localStorage.removeItem('adminTokenTime');
            localStorage.removeItem('adminUsername');
        }

        // Show error message
        function showErrorMessage(message) {
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
            successMessage.style.display = 'none';
            attemptsWarning.style.display = 'none';
        }

        // Show success message
        function showSuccessMessage(message) {
            successMessage.textContent = message;
            successMessage.style.display = 'block';
            errorMessage.style.display = 'none';
            attemptsWarning.style.display = 'none';
        }

        // Show attempts warning
        function showAttemptsWarning(message) {
            attemptsWarning.textContent = message;
            attemptsWarning.style.display = 'block';
            errorMessage.style.display = 'none';
            successMessage.style.display = 'none';
        }

        // Handle login form submission
        loginForm.addEventListener('submit', function (e) {
            e.preventDefault();

            const username = usernameInput.value.trim();
            const password = passwordInput.value.trim();

            if (isAccountLocked()) return;

            loadingMessage.style.display = 'block';
            loginBtn.disabled = true;

            setTimeout(() => {
                loadingMessage.style.display = 'none';
                loginBtn.disabled = false;

                if (validateCredentials(username, password)) {
                    createAdminSession();
                    showSuccessMessage('Login successful! Redirecting...');
                    setTimeout(() => {
                        window.location.href = 'admin-dashboard.html';
                    }, 1200);
                } else {
                    loginAttempts++;
                    lastAttemptTime = Date.now();
                    localStorage.setItem('loginAttempts', loginAttempts.toString());
                    localStorage.setItem('lastAttemptTime', lastAttemptTime.toString());

                    showErrorMessage('Invalid username or password.');

                    if (loginAttempts >= MAX_ATTEMPTS) {
                        showAttemptsWarning('Too many failed attempts. Please try again later.');
                    }
                }
            }, 1000);
        });

        // Run initial session check
        checkExistingSession();
    </script>
</body>
</html>
